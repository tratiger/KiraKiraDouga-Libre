# FAQ / よくある質問

隣の[フロントエンド規約](./frontend-project-lint.md)の多くは古くなっているので、こちらを参照してください。

---

## LINTについて

* ESLint
* StyleLint

を両方インストールし、赤い波線が表示される箇所を一つずつ修正していきましょう。

自分のコードは正しいはずなのに、エラーが表示されると感じた場合、それは自分のコードスタイルが間違っているか、LINTのルール設定に問題があるかのどちらかです。

## Vueファイルの各ブロックの属性

特別な場合を除き、Vueコンポーネントの初期化属性は次のようになります：

```html
<script setup lang="ts"></script>
<template></template>
<i18n lang="json5"></i18n>
<style scoped lang="scss"></style>
```

## コンポーネントのマージ

冗長で重複したコンポーネントを過剰に作成せず、類似した機能を持つコンポーネントはマージすべきです。

**悪い例：**<wbr />「ビデオツールバーボタン」と「ビデオ弾幕パネルボタン」を2つの別々のコンポーネントとして作成すること。

## ページファイル名の命名規則
`pages` ディレクトリ以下のファイルはすべてケバブケースで命名します。**アドレスバーのルート**がキャメルケースで命名されているのを見たことがありません。

## コンポーネントファイル名の命名規則

通称「ベトナム語命名法」。修飾語が名詞の後に来るため、中国語や英語の読み方とは逆に見えます。

例：

```
˅ Foo
├ ˅ FooBar
└─┴── FooBarBaz.vue
```

つまり、コンポーネントファイル名の先頭には、その祖先ディレクトリの名前を順に追加していく必要があります。

## コンポーネントのルートノード

~~コンポーネントのルートノードとして、通常の `<div>` の代わりに `<kira-component>` ノードを使用します。ルートノードが `<button>` や `<input>` などの意味のあるノードの場合は、置き換える必要はありません。~~

コンポーネントのルートノードとして `<Comp>` ノードを使用します。（その内部実装は旧バージョンと同じです。）

~~そして、`:dom` 属性を使用して実際のDOM要素をrefします。~~

## コンポーネントルートノードのクラス名

<s>コンポーネントのルートノードのスタイル漏洩を防ぐため、ルートノードのクラス名はコンポーネント名のケバブケース形式で命名すべきです。例：`<PlayerVideoPanelDanmakuList>` コンポーネントのクラス名は `.player-video-panel-danmaku-list` となります。

少し長いですが、慌てないでください。ルートノードだけがこのように書く必要があり、その子孫ノードはすべて簡略化された命名を使用できます。</s>

ルートノードは `:comp`*（または `:component`）*<wbr />疑似クラスで表します。注意：オリジナルのCSS/SCSSにはこの疑似クラスはなく、これは私がPostCSSプラグインで独自に実装したものです。

## クラス名について（コンポーネントのルートノードを除く）

名前は短く！私たちは `scoped` を使っているので、スタイルは漏洩しません。名前はできるだけ簡潔にしてください。

## コンポーネントのカスタムスタイル属性はPropに書くべきか？

いいえ。

`<SoftButton>` コンポーネントを例にとると、Propでボタンのサイズをカスタマイズできないことに驚くかもしれません。ボタンのサイズは固定なのでしょうか？

いいえ、そうではありません。`<LogoCover>` コンポーネントも同様に、Propでカバーのサイズを設定することはできません。

正しい方法は、スタイルシートで以下の方法（カスタムプロパティ）を使用して設定することです：

```scss
.soft-button {
    --wrapper-size: 40px;
}
```

これでスタイルが完璧に適用されます。

それに加えて、ブール型や列挙型もサポートしています。

```scss
.logo-text {
    --form: full;
}

.tab-bar {
    --clipped: true;
}
```

結局のところ、スタイルを設定するなら、HTML/templateで個別に設定するよりも、CSS/SCSSで一括設定する方が良いのではないでしょうか？
